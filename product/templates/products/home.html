{% extends "products/base.html" %} {% block content %}

    <h2>Featured Products</h2>

    <!-- Searching Form -->
    <form method="get">
        <label for="name">Product Name:</label>
        <input type="text" name="name" value="{{ request.GET.name | default_if_none:'Product not found' }}">
        <br><br>
        <label for="store">Store:</label>
        <input type="text" name="store" value="{{ request.GET.store | default_if_none:'Product not found' }}">
        <br><br>
        <label for="category">Category:</label>
        <input type="text" name="category" value="{{ request.GET.category | default_if_none:'Product not found' }}">
        <br><br>
        <label for="min_price">Min Price:</label>
        <input type="number" name="min_price" value="{{ request.GET.min_price | default_if_none:'Product not found'}}">
        <br><br>
        <label for="max_price">Max Price:</label>
        <input type="number" name="max_price" value="{{ request.GET.max_price | default_if_none:'Product not found'}}">
        <br><br><br>
        <button type="submit">Search</button>
    </form>

    <hr>

    {% if product_filter.qs %}
        <ul>
            {% for product in product_filter.qs %}
                <li>
                    <h3><a href="{{ product.get_absolute_url }}">{{ product.name }}</a></h3>
                    <img src="/media/product_logo/{{ product.mainimage }}" alt="{{ product.name }}" width="200">
                    <p>Price: Rp{{ product.price }}</p>
                    <p>Store: {{ product.store.name }}</p>
                    <p>Stock: {{ product.stock }}</p>
                    <p>Category: {{ product.category.name }}</p>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No products found</p>
    {% endif %}

{% endblock content %}
